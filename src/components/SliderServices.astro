---
// Interface pour les services
interface Service {
  name: string;
  icon: string;
}

// Services par d√©faut
const defaultServices: Service[] = [
  { name: "Coupe classique", icon: "/images/ticker-icon.svg" },
  { name: "Coupe + shampoing", icon: "/images/ticker-icon.svg" },
  { name: "Taille de barbe", icon: "/images/ticker-icon.svg" },
  { name: "Contours", icon: "/images/ticker-icon.svg" },
  { name: "Serviette chaude", icon: "/images/ticker-icon.svg" },
  {
    name: "Soin de visage (Serviette chaude / froide + exfoliant)",
    icon: "/images/ticker-icon.svg",
  },
];

// Props du composant
interface Props {
  services?: Service[];
  speed?: number;
  className?: string;
}

const { services = defaultServices, speed = 20, className = "" } = Astro.props;
---

<div class={`features-ticker bg-gray-200 overflow-hidden w-full ${className}`}>
  <div class="relative h-16 flex items-center overflow-hidden w-full">
    <div
      class="animate-scroll flex items-center w-max"
      style={`animation-duration: ${speed}s;`}
    >
      <ul class="flex items-center w-max space-x-12 whitespace-nowrap">
        {
          services.map((service) => (
            <li class="flex-shrink-0 flex items-center space-x-4 text-gray-900 font-bold text-xl">
              <img src={service.icon} alt="" class="w-8 h-8 object-contain" />
              <span class="leading-none">{service.name}</span>
            </li>
          ))
        }
        {/* DUPLICATION pour effet infini */}
        {
          services.map((service) => (
            <li
              class="flex-shrink-0 flex items-center space-x-4 text-gray-900 font-bold text-xl"
              aria-hidden="true"
            >
              <img src={service.icon} alt="" class="w-8 h-8 object-contain" />
              <span class="leading-none">{service.name}</span>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</div>

<style>
  /* Responsive */
  @media (max-width: 768px) {
    .features-ticker ul {
      font-size: 1rem;
    }
    .features-ticker ul li {
      margin-right: 1.5rem;
    }
    .features-ticker {
      height: 3.5rem !important;
    }
  }
</style>
