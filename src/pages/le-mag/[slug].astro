---
import Layout from "../../layouts/Layout.astro";
import BlogNavbar from "../../components/BlogNavbar.astro";
import Footer from "../../components/Footer.astro";
import { getPostBySlug, getAllPosts } from "../../data/blog-posts";

export async function getStaticPaths() {
  const posts = getAllPosts();
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props;

// Si l'article n'existe pas, rediriger vers la page 404
if (!post) {
  return Astro.redirect("/404");
}
---

<Layout title={`${post.title} - NEAT Barber Paris`}>
  <!-- Navbar pour les pages blog -->
  <BlogNavbar />

  <!-- Article Header -->
  <section class="article-header">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="breadcrumb-nav">
            <a href="/le-mag" class="breadcrumb-link">
              <i class="fas fa-arrow-left"></i> Retour au Mag
            </a>
          </nav>
        </div>
      </div>
    </div>
  </section>

  <!-- Article Content -->
  <article class="article-content">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <!-- Article Meta -->
          <div class="article-meta">
            <span class="article-category">{post.category}</span>
            <span class="article-date">{post.date}</span>
          </div>

          <!-- Article Title -->
          <h1 class="article-title">{post.title}</h1>

          <!-- Article Image -->
          <div class="article-image">
            <img
              src={post.image}
              alt={post.title}
              class="img-fluid"
              loading="eager"
              onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
            />
            <div class="image-placeholder" style="display: none;">
              <i class="fas fa-image"></i>
              <span>Image non disponible</span>
            </div>
          </div>

          <!-- Article Body -->
          <div class="article-body">
            <!-- Contenu de l'article - pour l'instant, on utilise l'excerpt comme contenu -->
            <p class="article-excerpt">{post.excerpt}</p>

            <!-- Contenu complet simulé -->
            <div class="article-text">
              <p>
                Chez NEAT Barber Paris, nous croyons fermement que chaque détail
                compte dans l'art de la coiffure et du barbier. Notre approche
                unique combine tradition et modernité pour offrir une expérience
                exceptionnelle à nos clients.
              </p>

              <p>
                Dans cet article, nous partageons avec vous notre expertise et
                nos conseils pour vous aider à comprendre l'importance de chaque
                choix que vous faites concernant votre style et votre apparence.
              </p>

              <h3>Notre philosophie</h3>
              <p>
                NEAT n'est pas seulement un salon de coiffure, c'est un
                véritable concept store où se rencontrent l'art de la coiffure,
                la culture et le lifestyle masculin. Chaque visite chez nous est
                une expérience complète qui va bien au-delà d'une simple coupe
                de cheveux.
              </p>

              <h3>Nos conseils d'experts</h3>
              <p>
                Nos barbiers et coiffeurs sont des artisans passionnés qui
                mettent leur savoir-faire au service de votre style. Ils vous
                accompagnent dans vos choix et vous conseillent pour trouver le
                look qui vous correspond parfaitement.
              </p>

              <blockquote>
                "Chez NEAT, nous ne faisons pas que couper les cheveux, nous
                créons des expériences uniques qui reflètent votre personnalité
                et votre style de vie."
              </blockquote>

              <p>
                Que vous soyez à la recherche d'une coupe classique ou d'un
                style plus moderne, notre équipe saura vous conseiller et vous
                accompagner pour obtenir le résultat parfait.
              </p>
            </div>
          </div>

          <!-- Article Footer -->
          <div class="article-footer">
            <div class="article-tags">
              <span class="tag">Coiffure</span>
              <span class="tag">Barbier</span>
              <span class="tag">Style</span>
              <span class="tag">Conseils</span>
            </div>

            <div class="article-share">
              <span>Partager :</span>
              <a
                href="#"
                class="share-btn facebook"
                aria-label="Partager sur Facebook"
              >
                <i class="fab fa-facebook-f"></i>
              </a>
              <a
                href="#"
                class="share-btn twitter"
                aria-label="Partager sur Twitter"
              >
                <i class="fab fa-twitter"></i>
              </a>
              <a
                href="#"
                class="share-btn linkedin"
                aria-label="Partager sur LinkedIn"
              >
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </article>

  <!-- Related Articles -->
  <section class="related-articles">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h2 class="section-title">Articles similaires</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="related-card">
            <div class="related-image">
              <img
                src="/images/post-1.jpg"
                alt="Article similaire"
                class="img-fluid"
              />
            </div>
            <div class="related-content">
              <h4>Conseils pour entretenir votre barbe</h4>
              <p>
                Découvrez nos meilleurs conseils pour maintenir une barbe
                parfaite au quotidien.
              </p>
              <a href="/le-mag/conseils-entretenir-barbe" class="read-more"
                >Lire l'article</a
              >
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="related-card">
            <div class="related-image">
              <img
                src="/images/post-2.jpg"
                alt="Article similaire"
                class="img-fluid"
              />
            </div>
            <div class="related-content">
              <h4>Les tendances coiffure 2025</h4>
              <p>
                Explorez les dernières tendances en matière de coiffure pour
                cette nouvelle année.
              </p>
              <a href="/le-mag/tendances-coiffure-2025" class="read-more"
                >Lire l'article</a
              >
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="related-card">
            <div class="related-image">
              <img
                src="/images/post-3.jpg"
                alt="Article similaire"
                class="img-fluid"
              />
            </div>
            <div class="related-content">
              <h4>L'art du rasage traditionnel</h4>
              <p>
                Plongez dans l'univers du rasage traditionnel et découvrez ses
                secrets.
              </p>
              <a href="/le-mag/art-rasage-traditionnel" class="read-more"
                >Lire l'article</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer />
</Layout>

<style>
  /* Article Header */
  .article-header {
    padding: 20px 0;
    background-color: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
  }

  .breadcrumb-nav {
    margin-bottom: 0;
  }

  .breadcrumb-link {
    display: inline-flex;
    align-items: center;
    color: #4a5d4a;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
  }

  .breadcrumb-link:hover {
    color: #2a342a;
  }

  .breadcrumb-link i {
    margin-right: 8px;
  }

  /* Article Content */
  .article-content {
    padding: 60px 0;
  }

  .article-meta {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
  }

  .article-category {
    background-color: #4a5d4a;
    color: #ffffff;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 6px 14px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .article-date {
    color: #6c757d;
    font-size: 0.9rem;
    font-weight: 500;
  }

  .article-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #2a342a;
    margin-bottom: 30px;
    line-height: 1.2;
  }

  .article-image {
    position: relative;
    margin-bottom: 40px;
    border-radius: 10px;
    overflow: hidden;
    background-color: #f8f9fa;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 400px;
  }

  .article-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .image-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f8f9fa;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #6c757d;
    font-size: 1rem;
  }

  .image-placeholder i {
    font-size: 3rem;
    margin-bottom: 10px;
    opacity: 0.5;
  }

  .article-body {
    margin-bottom: 50px;
  }

  .article-excerpt {
    font-size: 1.2rem;
    color: #4a5d4a;
    font-weight: 500;
    margin-bottom: 30px;
    line-height: 1.6;
    padding: 20px;
    background-color: #f8f9fa;
    border-left: 4px solid #4a5d4a;
    border-radius: 0 5px 5px 0;
  }

  .article-text {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #2a342a;
  }

  .article-text p {
    margin-bottom: 20px;
  }

  .article-text h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #2a342a;
    margin: 30px 0 15px 0;
  }

  .article-text blockquote {
    background-color: #f8f9fa;
    border-left: 4px solid #4a5d4a;
    padding: 20px 25px;
    margin: 30px 0;
    font-style: italic;
    color: #4a5d4a;
    font-size: 1.1rem;
    border-radius: 0 5px 5px 0;
  }

  /* Article Footer */
  .article-footer {
    padding-top: 30px;
    border-top: 1px solid #e9ecef;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
  }

  .article-tags {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }

  .tag {
    background-color: #e9ecef;
    color: #4a5d4a;
    font-size: 0.8rem;
    font-weight: 500;
    padding: 5px 12px;
    border-radius: 15px;
  }

  .article-share {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .article-share span {
    color: #6c757d;
    font-weight: 500;
  }

  .share-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    color: #ffffff;
    text-decoration: none;
    transition: transform 0.3s ease;
  }

  .share-btn:hover {
    transform: scale(1.1);
  }

  .share-btn.facebook {
    background-color: #3b5998;
  }

  .share-btn.twitter {
    background-color: #1da1f2;
  }

  .share-btn.linkedin {
    background-color: #0077b5;
  }

  /* Related Articles */
  .related-articles {
    padding: 60px 0;
    background-color: #f8f9fa;
  }

  .section-title {
    font-size: 2rem;
    font-weight: 600;
    color: #2a342a;
    margin-bottom: 40px;
    text-align: center;
  }

  .related-card {
    background-color: #ffffff;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    height: 100%;
  }

  .related-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .related-image {
    height: 200px;
    overflow: hidden;
  }

  .related-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .related-card:hover .related-image img {
    transform: scale(1.05);
  }

  .related-content {
    padding: 20px;
  }

  .related-content h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #2a342a;
    margin-bottom: 10px;
    line-height: 1.4;
  }

  .related-content p {
    color: #6c757d;
    font-size: 0.9rem;
    margin-bottom: 15px;
    line-height: 1.5;
  }

  .related-content .read-more {
    color: #4a5d4a;
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .related-content .read-more:hover {
    color: #2a342a;
  }

  /* Responsive */
  @media (max-width: 991px) {
    .article-title {
      font-size: 2.2rem;
    }

    .article-image {
      min-height: 350px;
    }
  }

  @media (max-width: 767px) {
    .article-content {
      padding: 40px 0;
    }

    .article-title {
      font-size: 1.8rem;
    }

    .article-image {
      min-height: 300px;
    }

    .article-text {
      font-size: 1rem;
    }

    .article-footer {
      flex-direction: column;
      align-items: flex-start;
    }

    .related-articles {
      padding: 40px 0;
    }
  }

  @media (max-width: 575px) {
    .article-title {
      font-size: 1.6rem;
    }

    .article-image {
      min-height: 250px;
    }

    .article-excerpt {
      font-size: 1.1rem;
      padding: 15px;
    }

    .article-text h3 {
      font-size: 1.3rem;
    }

    .section-title {
      font-size: 1.6rem;
    }
  }
</style>
